import OpenAI from "openai";

const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

export async function generateDayCampaign() {
  const today = new Date().toLocaleDateString("ka-GE", { weekday: "long", day: "numeric", month: "long" });

  const prompt = `
рЃерЃћрЃЦрЃЏрЃћрЃюрЃў рЃЊрЃдрЃўрЃБрЃарЃў рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃЎрЃљрЃЏрЃърЃљрЃюрЃўрЃљ ASTROMAN-рЃўрЃАрЃЌрЃЋрЃўрЃА (${today}).
ASTROMAN рЃљрЃарЃўрЃА рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃЏрЃљрЃдрЃљрЃќрЃўрЃљ рЃбрЃћрЃџрЃћрЃАрЃЎрЃЮрЃърЃћрЃЉрЃўрЃЌ, рЃЋрЃљрЃарЃАрЃЎрЃЋрЃџрЃљрЃЋрЃБрЃа рЃџрЃљрЃЏрЃърЃћрЃЉрЃА, рЃџрЃћрЃЋрЃўрЃбрЃљрЃфрЃўрЃБрЃа рЃџрЃљрЃЏрЃърЃћрЃЉрЃА рЃЊрЃљ рЃЉрЃљрЃЋрЃерЃЋрЃЌрЃљ рЃАрЃљрЃЌрЃљрЃЏрЃљрЃерЃЮрЃћрЃЉрЃА.

рЃЏрЃЮрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА:
­ЪЌЊ рЃЊрЃдрЃўрЃА рЃЌрЃћрЃЏрЃљ рЃЊрЃљ рЃњрЃљрЃюрЃгрЃДрЃЮрЃЉрЃљ
­ЪЊЮ 3 рЃърЃЮрЃАрЃбрЃўрЃА рЃўрЃЊрЃћрЃљ (Facebook/Instagram) Рђћ рЃћрЃЏрЃЮрЃ»рЃўрЃћрЃЉрЃўрЃЌ рЃЊрЃљ CTA-рЃћрЃЉрЃўрЃЌ
­ЪЊ▒ 2 рЃАрЃЌрЃЮрЃарЃўрЃА рЃўрЃЊрЃћрЃљ
­Ъј» рЃАрЃљрЃЏрЃўрЃќрЃюрЃћ рЃљрЃБрЃЊрЃўрЃбрЃЮрЃарЃўрЃљ рЃЊрЃдрЃћрЃўрЃАрЃЌрЃЋрЃўрЃА
­Ъњ░ рЃЉрЃўрЃБрЃ»рЃћрЃбрЃўрЃА рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃљ
#№ИЈРЃБ 10 рЃ░рЃћрЃерЃЌрЃћрЃњрЃў рЃЦрЃљрЃарЃЌрЃБрЃџ рЃЊрЃљ рЃўрЃюрЃњрЃџрЃўрЃАрЃБрЃа рЃћрЃюрЃљрЃќрЃћ
`;

  const response = await openai.chat.completions.create({
    model: "gpt-4o",
    temperature: 0.8,
    messages: [
      {
        role: "system",
        content: "рЃерЃћрЃю рЃ«рЃљрЃа ASTROMAN-рЃўрЃА рЃАрЃћрЃюрЃўрЃЮрЃа рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃАрЃбрЃарЃљрЃбрЃћрЃњрЃў. рЃгрЃћрЃа рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ, рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃљрЃЊ, рЃњрЃљрЃЏрЃДрЃўрЃЊрЃЋрЃћрЃџрЃў рЃћрЃюрЃўрЃЌ."
      },
      { role: "user", content: prompt }
    ]
  });

  return response.choices[0].message.content;
}

export async function generateWeekCampaign() {
  const prompt = `
рЃерЃћрЃЦрЃЏрЃћрЃюрЃў 7-рЃЊрЃдрЃўрЃљрЃюрЃў рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃњрЃћрЃњрЃЏрЃљ ASTROMAN-рЃўрЃАрЃЌрЃЋрЃўрЃА.
ASTROMAN рЃљрЃарЃўрЃА рЃЦрЃљрЃарЃЌрЃБрЃџрЃў рЃЏрЃљрЃдрЃљрЃќрЃўрЃљ рЃбрЃћрЃџрЃћрЃАрЃЎрЃЮрЃърЃћрЃЉрЃўрЃЌ, рЃЋрЃљрЃарЃАрЃЎрЃЋрЃџрЃљрЃЋрЃБрЃа рЃџрЃљрЃЏрЃърЃћрЃЉрЃА, рЃџрЃћрЃЋрЃўрЃбрЃљрЃфрЃўрЃБрЃа рЃџрЃљрЃЏрЃърЃћрЃЉрЃА рЃЊрЃљ рЃЉрЃљрЃЋрЃерЃЋрЃЌрЃљ рЃАрЃљрЃЌрЃљрЃЏрЃљрЃерЃЮрЃћрЃЉрЃА.

рЃДрЃЮрЃЋрЃћрЃџ рЃЊрЃдрЃћрЃА рЃЏрЃЮрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА:
­ЪЊЁ рЃЊрЃдрЃћ + рЃЌрЃћрЃЏрЃљ
­ЪЊЮ 2 рЃърЃЮрЃАрЃбрЃўрЃА рЃўрЃЊрЃћрЃљ рЃћрЃЏрЃЮрЃ»рЃўрЃћрЃЉрЃўрЃЌ
­ЪЊ▒ 1 рЃАрЃЌрЃЮрЃарЃўрЃА рЃўрЃЊрЃћрЃљ
­ЪјЂ 1 рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃерЃћрЃЌрЃљрЃЋрЃљрЃќрЃћрЃЉрЃљ рЃљрЃю CTA
­ЪњА рЃњрЃљрЃЏрЃДрЃўрЃЊрЃЋрЃћрЃџрЃў рЃбрЃћрЃЦрЃюрЃўрЃЎрЃљ (рЃАрЃўрЃЏрЃгрЃўрЃарЃћ, рЃАрЃЮрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃЏрЃбрЃЎрЃўрЃфрЃћрЃЉрЃљ, рЃЊрЃљ рЃАрЃ«рЃЋ.)

рЃЉрЃЮрЃџрЃЮрЃА рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћ:
­ЪЊі рЃЎрЃЋрЃўрЃарЃўрЃА KPI рЃЏрЃўрЃќрЃюрЃћрЃЉрЃў
­Ъџђ рЃњрЃљрЃАрЃљрЃФрЃџрЃўрЃћрЃарЃћрЃЉрЃћрЃџрЃў рЃћрЃарЃЌрЃў рЃърЃЮрЃАрЃбрЃў (boosting recommendation)
`;

  const response = await openai.chat.completions.create({
    model: "gpt-4o",
    temperature: 0.8,
    messages: [
      {
        role: "system",
        content: "рЃерЃћрЃю рЃ«рЃљрЃа ASTROMAN-рЃўрЃА рЃАрЃћрЃюрЃўрЃЮрЃа рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃАрЃбрЃарЃљрЃбрЃћрЃњрЃў. рЃгрЃћрЃа рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ, рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃљрЃЊ, рЃњрЃљрЃЏрЃДрЃўрЃЊрЃЋрЃћрЃџрЃў рЃћрЃюрЃўрЃЌ."
      },
      { role: "user", content: prompt }
    ]
  });

  return response.choices[0].message.content;
}
